---
title:  "React Native Weekly - W40 2021"
description:  "React Native Weekly - W40 2021"
publishDate: 2021-10-04
tags:    ["react-native", "react-native-weekly"]
---

Welcome to the 28th edition of React Native Weekly! 

This is week 40 of 2021: September 27th to October 3rd.

# React Native v66.0

[Release post](https://reactnative.dev/blog/2021/10/01/version-066)

# Add snapToAlignment to ScrollView [Android]


The `snapToAlignment` prop on the ScrollView was a iOS only prop. David Vacca dvacca@fb.com makes a series of commits:
[(1)](https://github.com/facebook/react-native/commit/a54cfb9e579) [(2)](https://github.com/facebook/react-native/commit/deec1db9fdf) [(3)](https://github.com/facebook/react-native/commit/b12256394e3) [(4)](https://github.com/facebook/react-native/commit/c6e5640e87e) [(5)](https://github.com/facebook/react-native/commit/e774c037bce) [(6)](https://github.com/facebook/react-native/commit/04184ef851c) [(7)](https://github.com/facebook/react-native/commit/3cffe352b52) [(7)](https://github.com/facebook/react-native/commit/2feca00797d)
where he extends the ReactHorizontalScrollView.java and ReactScrollView.java to support this feature. It is currently released under a feature flag. 

<img style={{ width: '100%' }} src={require('./snapToAlignmentProp.png')} />

Example of snap to alignment set:

<img style={{ width: '40%' }} src="https://camo.githubusercontent.com/79f6b2c710949911f76630d9c1c42a349c7d20c4/687474703a2f2f692e696d6775722e636f6d2f364931437648452e676966" />



# Android Bundle Size Reduction

APK size went from 30MB to 26.3MB for a release bundle with Hermes disabled and 
from 23.6MB to 20.7MB for a release bundle with Hermes enabled. [Source.](https://github.com/facebook/react-native/pull/32257#issuecomment-926627578)

enniel razumov.evgeni@gmail.com [introduced a fix](https://github.com/facebook/react-native/commit/6f126740fa5) that cleans up the Gradle VM for debug and release builds. What he found was that some shared object files for release were being left behind on the debug build and vice-versa. 


# Correct keyboard height with notch [Android]

fabriziobertoglio1987 fabrizio.bertoglio@gmail.com [fixed an issue](https://github.com/facebook/react-native/commit/8bef3b1f113) on Android where the keyboard height did not consider the Android Notch height thus being wrong when the device had a notch (API 28+).


# Add asdf-vm support in react-native-xcode.sh

[This commit](https://github.com/facebook/react-native/commit/3e7c310b1dc) adds support for asdf (a tool/runtime version manager based on plugins, think "nvm" for multiple tools).


# Adding interface to wrap surface interactions for LogBox

Xin Chen xch@fb.com [abstracted the logic for creating the content view of the LogBox](https://github.com/facebook/react-native/commit/652cb541a50), previously it defaulted to creating a Android view, with this abstraction each platform can determine what the surface will be.


# Nested text onPress not working on last character [Android]

Second commit in master from fabriziobertoglio1987 fabrizio.bertoglio@gmail.com, [this commit](https://github.com/facebook/react-native/commit/132d1d00f88) fixes a long standing issue where onPress did not trigger on the last character on Android.
 


# Fix Image defaultSource not showing on iOS

[Commit](https://github.com/facebook/react-native/commit/900210cacc4) fixes a regression which seems to have been introduced between version 0.63 and 0.65.

# Make ClipboardModule TurboModule-compatible

[This commit](https://github.com/facebook/react-native/commit/40a367e0a37) makes the ClipboardModule TurboModule compatible, it might be a showcase of what you have to do to make any native support TurboModule in the future.

# TextInput Drawable to avoid Null Pointer Exception RuntimeError

Re-rendering a large number of TextInputs with key prop on the screen will trigger the a Null Pointer Exception Runtime Error.

I suggest checking the actual [PR](https://github.com/facebook/react-native/pull/29452) for this one, I didn't dig much into it to understand why this fix is as is. 


# Community


- OpenDoor's [post on how they improved performance](https://medium.com/opendoor-labs/how-we-improved-app-performance-and-code-quality-by-upgrading-react-navigation-25ccd8363432) by transitioning from React Navigation v2 to v5

- [React Native Universal Monorepo](https://github.com/mmazzarolo/react-native-universal-monorepo) added support for Next.js, Android TV, and tvOS.

- Does TikTok use React Native? [question from Eli White](https://twitter.com/Eli_White/status/1444188390987993093?s=20). [It looks like they do for their Mini Apps?](https://twitter.com/usrbowe/status/1444313594150080512?s=20)

- [Will Yoga support flex gap?](https://github.com/facebook/yoga/issues/812) Let's hope yes.


# Done

That's it for this week. If you want to see more checkout the previous week's posts [here](/tags/react-native). Subscribe to get notified when new posts are out = )


